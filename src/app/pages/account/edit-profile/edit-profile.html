<div class="shadow-2xl rounded-lg p-5 flex flex-col gap-5">
  <h3 class="text-red-500 capitalize font-bold">Edit Your Profile</h3>
  <div class="w-full flex flex-col gap-4">
    <div class="flex items-center justify-center">
      <div class="flex flex-col gap-3">
        <div class="flex items-center justify-center gap-1">
          <button
            type="button"
            class="rounded-sm border border-gray-500 px-2 py-1 outline-none disabled:bg-gray-400"
            (click)="compress()"
          >
            Change Profile Picture
          </button>
        </div>

        @if (imagePreview()) {
          <img class="w-32 h-32 rounded-full object-cover border mx-auto" [src]="imagePreview()" />
        }
      </div>
    </div>
    <div class="flex items-start flex-wrap md:flex-nowrap lg:gap-x-10 gap-x-5 gap-y-2 w-full">
      <div class="flex flex-col gap-1 w-full">
        <label for="fullName">Full Name</label>
        <input
          [(ngModel)]="name"
          type="text"
          id="fullName"
          placeholder="Mid"
          [value]="userProfile()?.name"
        />
      </div>
      <div class="flex flex-col gap-1 w-full">
        <label for="phone">Phone Number</label>
        <input
          [(ngModel)]="phoneNumber"
          type="tel"
          id="phone"
          placeholder="08111223344"
          [value]="userProfile()?.phoneNumber"
        />
      </div>
    </div>
    <div class="flex items-start flex-wrap md:flex-nowrap lg:gap-x-10 gap-x-5 gap-y-2 w-full">
      <div class="flex flex-col gap-1 w-full">
        <label for="email">Email</label>
        <input
          type="email"
          id="email"
          placeholder="rimel@gmail.com"
          [value]="userProfile()?.email"
          disabled
        />
      </div>
      <div class="flex flex-col gap-1 w-full">
        <label for="address">Address</label>
        <input
          [(ngModel)]="address"
          type="text"
          id="address"
          placeholder="Kingston, 5236, United State"
          [value]="userProfile()?.address"
        />
      </div>
    </div>

    <!-- Password -->
    <div class="w-full flex flex-col gap-3">
      <label for="currentPassword">Password Changes</label>
      <div class="relative">
        <input
          [(ngModel)]="oldPassword"
          type="password"
          id="currentPassword"
          placeholder="Current Password"
          #currentPassword
          [value]="userProfile()?.password"
        />
        @if (currentPasswordIcons()) {
          <button
            class="absolute right-3 top-3 text-gray-500"
            (click)="toggleShowCurrentPassword()"
          >
            <i class="fa fa-eye-slash"></i>
          </button>
        } @else {
          <button
            class="absolute right-3 top-3 text-gray-500"
            (click)="toggleShowCurrentPassword()"
          >
            <i class="fa fa-eye"></i>
          </button>
        }
      </div>
      <div class="relative">
        <input [(ngModel)]="password" type="password" placeholder="New Password" #newPassword />
        @if (newPasswordIcons()) {
          <button class="absolute right-3 top-3 text-gray-500" (click)="toggleShowNewPassword()">
            <i class="fa fa-eye-slash"></i>
          </button>
        } @else {
          <button class="absolute right-3 top-3 text-gray-500" (click)="toggleShowNewPassword()">
            <i class="fa fa-eye"></i>
          </button>
        }
      </div>
      <!-- <div class="relative">
        <input type="password" placeholder="Confirm New Password" #confirmNewPassword />
        @if (confirmNewPasswordIcons()) {
          <button
            class="absolute right-3 top-3 text-gray-500"
            (click)="toggleShowConfirmNewPassword()"
          >
            <i class="fa fa-eye-slash"></i>
          </button>
        } @else {
          <button
            class="absolute right-3 top-3 text-gray-500"
            (click)="toggleShowConfirmNewPassword()"
          >
            <i class="fa fa-eye"></i>
          </button>
        }
      </div> -->
    </div>

    <div class="flex items-center justify-end gap-2">
      <app-button
        [text]="'Save Changes'"
        [size]="'md'"
        [type]="'red-btn'"
        [loading]="loading()"
        [disabled]="!name || !password || !imagePreview() || !oldPassword || !address"
        (handleOnlick)="updateProfile()"
      ></app-button>
    </div>
  </div>
</div>
